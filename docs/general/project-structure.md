# Project Structure

## Frameworks

The frameworks directory includes the Cocos2d-html5 engine. The original source can be [found
here](https://github.com/cocos2d/cocos2d-html5), and the Curriculum Advantage-modified source [is
here](https://github.com/curriculum-advantage/cocos2d-html5).

## Activity JSON

A JSON file is loaded according to the activity id found in the url query string (`actid` key). The file is used to setup the game with a specific template, question generator, resources, and global variables.

### Main Properties

- activityId: {int} - also in name of file
- template: {string} - name of template to load, e.g. "FrogAttack"
- questionSource: {string} - a specific generator, or "Embedded" if questions are included in the JSON document
- embeddedQuestions: [{questions}] (optional) - array of questions, IF source is "Embedded"
- globals: {
-   skill: {text} - skill name, displayed in game header
-   level: {int} - current skill level
-   maxLevel: {int} - maximum level for the skill
-   questionCount: {int} - number of questions to play through
-   helpAudioSrc: {rel URL to resource} - path to instruction / help audio
-   gameHintSrc: {rel URL to resource} - path to timeout audio
-   bgImage: {rel URL to resource} - path to game background image
-   activeFrogId: {int 1-4} - frog to display (1: elvis, 2: eli, 3: tie, 4: barbara)
-   answerChoiceCount: {int 2,3} - Number of answer choices that will be provided
-   highlightColor: {string} (optional) - color of highlighted text - magenta or blue
-   propertyLists: [{rel url to resource}] - paths to spritesheet plists

### Question Properties:
- stem: {Question Stem} Displayed below frog
- audioText: {text} (optional) - Text to display with correct answer for audio questions
- audioPath: {rel URL to resource} (optional) - Path to audio file for audio questions
- correctAnswer: [{answer}] Array of correct answers, often only one
- distractors: [{distractor}] Array of distractors, either one or two

## Resources

### Current
Resources used by the Cocos2d application are located in the /res folder,
organized by template, eg '/res/robomatic/...'.
Spritesheets are located in .../sprites
Audio is located in .../audio

Spritesheets are generated by TexturePacker, using sources located at
/tools/TexturePackerSources/{template}/{spritesheet_name}

Some sprite assets (generally those that are static on the screen) are sized to
automatically position correctly if anchor is set to 0,1, and position to 0,720

### Original

- [LV Grade 3 (1209) Source & Assets](https://drive.google.com/file/d/0BzFlEpa4Ee8LeWdwSlJ0bDRUdTQ/view?usp=sharing)
- [LV Grade 4 (1210) Source & Assets](https://drive.google.com/open?id=1CQbCHB-9MyCUp4wB2TfveVlDWXUIHd0k)
